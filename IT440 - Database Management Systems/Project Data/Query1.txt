Query 1

DROP TABLE `order`;
DROP TABLE phone;
DROP TABLE contractproject;
DROP TABLE timepunch;
DROP TABLE employee;
DROP TABLE department;
DROP TABLE addressbook;
DROP TABLE clientcontract;
DROP TABLE `client`;
DROP TABLE invoice;
DROP TABLE project;
DROP TABLE branch;
DROP TABLE people;
DROP TABLE country;
DROP TABLE address;
DROP TABLE taxrate;
DROP TABLE payrate;
DROP TABLE roles;

CREATE OR REPLACE TABLE `Roles` (
  `ROLE_ID` INT NOT NULL,
  `ROLE_Title` VARCHAR(15),
  `ROLE_Type` VARCHAR(15),
  `ROLE_Desc` Varchar(200),
  PRIMARY KEY (`ROLE_ID`)
);

CREATE OR REPLACE TABLE `PayRate` (
  `PAYRATE_ID` INT NOT NULL,
  `PAYRATE_Type` Varchar(30),
  `PAYRATE_Amount` Decimal(10, 2),
  PRIMARY KEY (`PAYRATE_ID`)
);

CREATE OR REPLACE TABLE `TaxRate` (
  `TAXRATE_ID` INT NOT NULL,
  `TAXRATE_Country` VARCHAR(50),
  `TAXRATE_Rate` Decimal(10, 2),
  PRIMARY KEY (`TAXRATE_ID`)
);

CREATE OR REPLACE TABLE `Address` (
  `ADDRESS_ID` INT NOT NULL,
  `ADDRESS_Line` Varchar(50),
  `ADDRESS_City` VARCHAR(30),
  `ADDRESS_State` VARCHAR(30),
  `ADDRESS_Country` VARCHAR(50),
  PRIMARY KEY (`ADDRESS_ID`)
);

CREATE OR REPLACE TABLE `Country` (
  `COUNTRY_ID` INT NOT NULL,
  `COUNTRY_PhoneExtension` INT,
  PRIMARY KEY (`COUNTRY_ID`)
);

CREATE OR REPLACE TABLE `People` (
  `PEOPLE_ID` INT NOT NULL,
  `PEOPLE_FName` Varchar(20),
  `PEOPLE_Initial` Varchar(5),
  `PEOPLE_LName` Varchar(20),
  `PEOPLE_DOB` Date,
  `PEOPLE_Email` Varchar(50),
  `PEOPLE_Gender` Char(2),
  PRIMARY KEY (`PEOPLE_ID`)
);

CREATE OR REPLACE TABLE `Branch` (
  `BRANCH_ID` INT NOT NULL,
  `BRANCH_Name` Varchar(30),
  `BRANCH_Country` VARCHAR(50),
  `BRANCH_State` Varchar(20),
  `BRANCH_City` Varchar(20),
  `BRANCH_Address` VARCHAR(50),
  PRIMARY KEY (`BRANCH_ID`)
);

CREATE OR REPLACE TABLE `Project` (
  `PROJ_ID` INT NOT NULL,
  `PROJ_Name` VARCHAR(40),
  `PROJ_Desc` Varchar(200),
  `PAYRATE_ID` INT NOT NULL,
  `PROJ_Start` Date,
  `PROJ_End` Date,
  PRIMARY KEY (`PROJ_ID`),
  FOREIGN KEY (`PAYRATE_ID`) REFERENCES PayRate(`PAYRATE_ID`)
);

CREATE OR REPLACE TABLE `Invoice` (
  `INV_ID` INT NOT NULL,
  `PROJ_ID` INT NOT NULL,
  `INV_Amount` Decimal(10, 2),
  `INV_IssueDate` Date,
  `INV_DueDate` Date,
  `TAXRATE_ID` INT NOT NULL,
  PRIMARY KEY (`INV_ID`),
  FOREIGN KEY (PROJ_ID) REFERENCES Project(`PROJ_ID`),
  FOREIGN KEY (TAXRATE_ID) REFERENCES TaxRate(`TAXRATE_ID`)
);

CREATE OR REPLACE TABLE `Client` (
  `CLIENT_ID` INT NOT NULL,
  `CLIENT_LegalName` VARCHAR(50),
  `CLIENT_TypeName` VARCHAR(50),
  `PEOPLE_ID` INT NOT NULL,
  PRIMARY KEY (`CLIENT_ID`),
  FOREIGN KEY (`PEOPLE_ID`) REFERENCES People(`PEOPLE_ID`)
);

CREATE OR REPLACE TABLE `ClientContract` (
  `CLCON_ID` INT NOT NULL,
  `CLIENT_ID` INT NOT NULL,
  `PROJ_ID` INT NOT NULL,
  `CLCON_Start` Date,
  `CLCON_End` Date,
  PRIMARY KEY (`CLCON_ID`),
  FOREIGN KEY (`CLIENT_ID`) REFERENCES Client(`CLIENT_ID`), 
  FOREIGN KEY (`PROJ_ID`) REFERENCES Project(`PROJ_ID`)
);

CREATE OR REPLACE TABLE `AddressBook` (
  `ADDRESS_ID` INT NOT NULL,
  `PEOPLE_ID` INT NOT NULL,
  `ADDBOOK_Primary` BOOL ,
  FOREIGN KEY (`ADDRESS_ID`) REFERENCES Address(`ADDRESS_ID`),
  FOREIGN KEY (`PEOPLE_ID`) REFERENCES People(`PEOPLE_ID`)
);

CREATE OR REPLACE TABLE `Department` (
  `DEPT_ID` INT NOT NULL,
  `DEPT_Name` Varchar(30),
  `BRANCH_ID` INT NOT NULL,
  PRIMARY KEY (`DEPT_ID`),
  FOREIGN KEY (`BRANCH_ID`) REFERENCES Branch(`BRANCH_ID`)
);

CREATE OR REPLACE TABLE `Employee` (
  `EMPE_ID` INT NOT NULL,
  `PEOPLE_ID` INT NOT NULL,
  `DEPT_ID` INT NOT NULL,
  `ROLE_ID` INT NOT NULL,
  PRIMARY KEY (`EMPE_ID`),
  FOREIGN KEY (`DEPT_ID`) REFERENCES Department(`DEPT_ID`),
  FOREIGN KEY (`ROLE_ID`) REFERENCES Roles(`ROLE_ID`)
);

CREATE OR REPLACE TABLE `TimePunch` (
  `TIMEPUNCH_ID` INT NOT NULL,
  `EMPE_ID` INT NOT NULL,
  `StartTime` DATETIME,
  `EndTime` DATETIME,
  `Total` DECIMAL(10, 2),
  PRIMARY KEY (`TIMEPUNCH_ID`),
  FOREIGN KEY (`EMPE_ID`) REFERENCES Employee(`EMPE_ID`)
);

CREATE OR REPLACE TABLE `ContractProject` (
  `CONPROJ_ID` INT NOT NULL,
  `PROJ_ID` INT NOT NULL,
  `TIMEPUNCH_ID` INT NOT NULL,
  PRIMARY KEY (`CONPROJ_ID`),
  FOREIGN KEY (`PROJ_ID`) REFERENCES Project(`PROJ_ID`), 
  FOREIGN KEY (`TIMEPUNCH_ID`) REFERENCES TimePunch(`TIMEPUNCH_ID`)
);

CREATE OR REPLACE TABLE `Phone` (
  `PHONE_ID` INT NOT NULL,
  `PEOPLE_ID` INT NOT NULL,
  `PHONE_NUM` Varchar(15),
  `PHONE_IsPrimary` BOOLEAN,
  `COUNTRY_ID` INT NOT NULL,
  PRIMARY KEY (`PHONE_ID`),
  FOREIGN KEY (`PEOPLE_ID`) REFERENCES People(`PEOPLE_ID`),
  FOREIGN KEY (`COUNTRY_ID`) REFERENCES Country(`COUNTRY_ID`)
);

CREATE OR REPLACE TABLE `Order` (
  `ORDER_ID` INT NOT NULL,
  `BRANCH_ID` INT NOT NULL,
  `ORDER_Desc` VarChar(200),
  `ORDER_Inv` INT,
  `ORDER_Subtotal` Decimal(10, 2),
  `TAXRATE_ID` INT NOT NULL,
  `ORDER_Total` Decimal(10, 2),
  PRIMARY KEY (`ORDER_ID`),
  FOREIGN KEY (`BRANCH_ID`) REFERENCES Branch(`BRANCH_ID`),
  FOREIGN KEY (`TAXRATE_ID`) REFERENCES TaxRate(`TAXRATE_ID`)
);

