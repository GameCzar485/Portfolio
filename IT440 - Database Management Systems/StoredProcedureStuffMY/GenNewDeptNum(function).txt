DELIMITER $$
CREATE DEFINER=`root`@`localhost` FUNCTION `GenNewDeptNum`()
RETURNS int(11)
LANGUAGE SQL
NOT DETERMINISTIC
CONTAINS SQL
SQL SECURITY DEFINER
COMMENT ''
BEGIN
	declare deptCount INT;
	
	SELECT COUNT(*)
	INTO deptCount
	FROM department d
		INNER JOIN branch b
		ON d.BRANCH_ID = b.BRANCH_ID
		INNER JOIN employee e
		ON d.DEPT_ID = e.DEPT_ID;
	RETURN deptCount + 1;
END $$